<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Proyecto Alimentaci√≥n Saludable</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      background-color: #f0f4f8;
      color: #333;
    }

    header {
      background: linear-gradient(135deg, #2e7d32, #66bb6a);
      color: white;
      padding: 2rem;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .container {
      max-width: 1200px;
      margin: 40px auto;
      background: white;
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    h2 {
      color: #2e7d32;
      margin-top: 2rem;
      border-left: 6px solid #66bb6a;
      padding-left: 12px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      transition: 0.3s;
    }

    th {
      background: linear-gradient(135deg, #81c784, #a5d6a7);
      color: #fff;
      text-align: left;
      padding: 12px;
      cursor: pointer;
      position: sticky;
      top: 0;
    }

    td {
      padding: 10px;
      border-bottom: 1px solid #eee;
    }

    tr:hover {
      background-color: #f9fbe7;
      transition: background-color 0.2s ease;
    }

    .status {
      font-weight: bold;
      padding: 6px 10px;
      border-radius: 8px;
      text-align: center;
      display: inline-block;
      min-width: 100px;
    }

    .ok {
      background-color: #c8e6c9;
      color: #256029;
    }

    .progress {
      background-color: #fff9c4;
      color: #795548;
    }

    .pending {
      background-color: #ffcdd2;
      color: #b71c1c;
    }

    .chart-container {
      margin: 3rem 0;
      text-align: center;
    }

    footer {
      text-align: center;
      background: #2e7d32;
      color: white;
      padding: 1rem;
      border-top: 4px solid #81c784;
      margin-top: 40px;
    }

    canvas {
      max-width: 700px;
    }

    .highlight {
      background-color: #f1f8e9;
      border-left: 5px solid #4caf50;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
    }

    /* Animaci√≥n sutil al cargar */
    table, canvas, .highlight {
      animation: fadeIn 1.2s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <header>
    <h1>ü•ó Dashboard - Alimentaci√≥n Saludable</h1>
    <p>Seguimiento de metas, riesgos y actividades del proyecto 2025</p>
  </header>

  <div class="container">
    <h2>Resumen del Proyecto</h2>
    <div class="highlight">
      <p><strong>Nombre del Proyecto:</strong> Estrategias para Promover la Alimentaci√≥n Saludable</p>
      <p><strong>Objetivo:</strong> Promover h√°bitos saludables mediante talleres, men√∫s nutritivos y participaci√≥n comunitaria.</p>
      <p><strong>Duraci√≥n:</strong> Marzo 2025 - Diciembre 2025</p>
      <p><strong>Responsable:</strong> Kenia L√≥pez</p>
    </div>

    <h2>Indicadores de Seguimiento</h2>
    <table id="indicadoresTable">
      <thead>
        <tr>
          <th onclick="sortTable(0, 'indicadoresTable')">Indicador</th>
          <th onclick="sortTable(1, 'indicadoresTable')">Meta</th>
          <th onclick="sortTable(2, 'indicadoresTable')">Avance (%)</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Participaci√≥n estudiantil</td>
          <td>90%</td>
          <td>75%</td>
          <td><span class="status progress">En progreso</span></td>
        </tr>
        <tr>
          <td>Capacitaciones al personal</td>
          <td>5</td>
          <td>80%</td>
          <td><span class="status ok">Casi cumplido</span></td>
        </tr>
        <tr>
          <td>Implementaci√≥n de men√∫s saludables</td>
          <td>100%</td>
          <td>70%</td>
          <td><span class="status progress">En proceso</span></td>
        </tr>
        <tr>
          <td>Material educativo distribuido</td>
          <td>500</td>
          <td>420</td>
          <td><span class="status ok">Avance estable</span></td>
        </tr>
      </tbody>
    </table>

    <div class="chart-container">
      <h2>üìä Avance General del Proyecto</h2>
      <canvas id="avanceChart"></canvas>
    </div>

    <h2>Gesti√≥n de Riesgos</h2>
    <table id="riesgosTable">
      <thead>
        <tr>
          <th onclick="sortTable(0, 'riesgosTable')">No.</th>
          <th onclick="sortTable(1, 'riesgosTable')">Descripci√≥n</th>
          <th onclick="sortTable(2, 'riesgosTable')">Nivel</th>
          <th>Impacto</th>
          <th>Plan de Mitigaci√≥n</th>
          <th>Responsable</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Falta de compromiso estudiantil</td>
          <td><span class="status progress">Media</span></td>
          <td>Calidad / Alcance</td>
          <td>Incentivos y actividades l√∫dicas</td>
          <td>Docente de Bienestar</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Retraso en materiales educativos</td>
          <td><span class="status progress">Media</span></td>
          <td>Tiempo / Costo</td>
          <td>Usar recursos digitales alternos</td>
          <td>Coordinaci√≥n Acad√©mica</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Bajo presupuesto para alimentos saludables</td>
          <td><span class="status pending">Alta</span></td>
          <td>Costo / Alcance</td>
          <td>Buscar apoyo o donaciones</td>
          <td>√Årea Administrativa</td>
        </tr>
      </tbody>
    </table>

    <div class="chart-container">
      <h2>üçè Distribuci√≥n de Niveles de Riesgo</h2>
      <canvas id="riesgoChart"></canvas>
    </div>
  </div>

  <footer>
    ¬© 2025 ‚Äî Proyecto Alimentaci√≥n Saludable | Desarrollado por Kenia L√≥pez üåø
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Funci√≥n para ordenar tablas
    function sortTable(n, tableId) {
      const table = document.getElementById(tableId);
      let switching = true, dir = "asc", switchcount = 0;
      while (switching) {
        switching = false;
        const rows = table.rows;
        for (let i = 1; i < rows.length - 1; i++) {
          let shouldSwitch = false;
          const x = rows[i].getElementsByTagName("TD")[n];
          const y = rows[i + 1].getElementsByTagName("TD")[n];
          if ((dir === "asc" && x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) ||
              (dir === "desc" && x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase())) {
            shouldSwitch = true;
            break;
          }
        }
        if (shouldSwitch) {
          rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
          switching = true;
          switchcount++;
        } else if (switchcount === 0 && dir === "asc") {
          dir = "desc";
          switching = true;
        }
      }
    }

    // Chart de avance
    new Chart(document.getElementById("avanceChart"), {
      type: "bar",
      data: {
        labels: ["Participaci√≥n", "Capacitaciones", "Men√∫s saludables", "Material educativo"],
        datasets: [{
          label: "Avance (%)",
          data: [75, 80, 70, 84],
          backgroundColor: ["#66bb6a", "#81c784", "#aed581", "#9ccc65"],
          borderRadius: 8
        }]
      },
      options: {
        responsive: true,
        scales: { y: { beginAtZero: true, max: 100 } },
        plugins: { legend: { display: false } }
      }
    });

    // Chart de riesgos
    new Chart(document.getElementById("riesgoChart"), {
      type: "doughnut",
      data: {
        labels: ["Alta", "Media", "Baja"],
        datasets: [{
          data: [1, 2, 0],
          backgroundColor: ["#ef5350", "#ffca28", "#81c784"],
          hoverOffset: 8
        }]
      },
      options: {
        plugins: {
          legend: { position: "bottom" }
        }
      }
    });
  </script>
</body>
</html>
